---           
layout: post
title: Maintaining AssemblyInfo for multiple projects
date: 2018-11-26 23:10:44 UTC
updated: 2018-11-26 23:10:44 UTC
comments: false
categories: Custom Build MSBuild NuGet
---
<div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-QWWmpPO8tvI/W_x8fY7QPUI/AAAAAAAAFDk/kXO4LsgVv1UWumuR0iBwglIrcGQj6pIpwCLcBGAs/s1600/msbuild.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="426" data-original-width="824" height="206" src="https://3.bp.blogspot.com/-QWWmpPO8tvI/W_x8fY7QPUI/AAAAAAAAFDk/kXO4LsgVv1UWumuR0iBwglIrcGQj6pIpwCLcBGAs/s400/msbuild.jpg" width="400" /></a></div><br /><br />When you are developing an application or manly a NuGet package, you might want to keep the same AssemblyInfo for all your packages, which involves updating each project when you want to publish a new version of your package according to the SemVer convention<a href="https://semver.org/"> Semantic Versioning 2.0.0 | Semantic Versioning</a>.<br /><br />In order to make it easier, with the improvements of dotnet core and the new csproj syntax, which I strongly recommend, MSBuild 15 introduced a pretty cool feature: Solution-wide project properties with Directory.Build.props <a href="https://docs.microsoft.com/en-us/visualstudio/msbuild/customize-your-build?view=vs-2017">Customize your build - Visual Studio | Microsoft Docs</a>. Basically, this allows you to define certain properties and use them in all your project in a centralised way, so you don't have to update your projects one by one.<br /><br />All you have to do is create a new text file named Directory.Build.props and place it where you have your solution file. Here is an example of the properties you can use:<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">‍&lt;Project&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;PropertyGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;Version&gt;1.1.0&lt;/Version&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;FileVersion&gt;1.1.0&lt;/FileVersion&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;Product&gt;Fenergo.Platform.Common&lt;/Product&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;Company&gt;Fenergo&lt;/Company&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;Copyright&gt;Copyright © Fenergo 2018&lt;/Copyright&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;/PropertyGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&lt;/Project&gt;‍‍‍‍‍‍‍‍‍</span><br /><br />In addition, you can inherit another funcionalities such as analysers. For example, if you want to use the Stylecop.Analyzers for all your project, you can add a&nbsp;<strong>Directory.Build.props</strong> like this:<br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&lt;Project&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;PropertyGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;TreatWarningsAsErrors&gt;True&lt;/TreatWarningsAsErrors&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;/PropertyGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;ItemGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;AdditionalFiles Include="..\StyleCop.json" /&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;/ItemGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;ItemGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &nbsp; &lt;PackageReference Include="StyleCop.Analyzers" Version="1.0.2" /&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;/ItemGroup&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&lt;/Project&gt;</span><br />‍<br /><br />If you don't have your&nbsp;<strong>Directory.Build.props</strong> in your root directory, you can import it in the projects which you need it.<br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&lt;Project&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;!-- Import parent Directory.build.props --&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;Import Project="../Directory.Build.props" /&gt;</span><br /><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;!-- Properties common to all test projects --&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp; &lt;!-- ... --&gt;</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&lt;/Project&gt;</span><br /><br />I hope you found this post helpful,<br /><br />Happy coding!<br /><br />Alberto.